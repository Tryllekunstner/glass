# Firebase App Hosting configuration
runConfig:
  # Use Node.js 18 or 20 for better compatibility
  runtime: nodejs20

# Build configuration
buildConfig:
  # Install dependencies for both root and web subdirectory
  commands:
    - npm ci --omit=optional --ignore-scripts
    - cd pickleglass_web && npm ci
    - cd pickleglass_web && npm run build

# Serve the static files from the Next.js output directory
serveConfig:
  staticAssets:
    - source: pickleglass_web/out
      destination: /
