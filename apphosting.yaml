# Firebase App Hosting configuration
runConfig:
  # Use Node.js 18 or 20 for better compatibility
  runtime: nodejs20
  # Start the Next.js server
  startCommand: cd pickleglass_web && npm start
  # Set the port that the container should listen on
  env:
    - variable: PORT
      value: "8080"

# Build configuration
buildConfig:
  # Install dependencies for both root and web subdirectory
  commands:
    - npm ci --omit=optional --ignore-scripts
    - cd pickleglass_web && npm ci
    - cd pickleglass_web && npm run build
